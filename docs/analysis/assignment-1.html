<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>MUSA 550 Quarto Page - Ann Zhang - 1 - Philly Donut Effect</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../analysis/index.html">In-Class Projects</a></li><li class="breadcrumb-item"><a href="../analysis/assignment-1.html">1 - Philly Donut Effect</a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-center sidebar-header">
      <a href="../index.html" class="sidebar-logo-link">
      <img src="../images/AZ_Logo.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
      <div class="sidebar-tools-main">
    <a href="https://annannzhang.github.io" rel="" title="Personal Website" class="quarto-navigation-tool px-1" aria-label="Personal Website"><i class="bi bi-globe"></i></a>
</div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Welcome</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../about.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">About me</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../analysis/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">In-Class Projects</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../analysis/assignment-1.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">1 - Philly Donut Effect</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../analysis/assignment-2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2 - Where to spend leisure time in NYC?</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../analysis/assignment-4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">4 - Street Networks &amp; Web Scraping</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../analysis/assignment-5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">5 - Exploring Yelp Reviews in Philly</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../analysis/assignment-6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">6 - Predictive Modeling of Housing Prices in Philadelphia</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#load-the-data" id="toc-load-the-data" class="nav-link active" data-scroll-target="#load-the-data">1. Load the data</a></li>
  <li><a href="#trim-the-data-to-just-philadelphia" id="toc-trim-the-data-to-just-philadelphia" class="nav-link" data-scroll-target="#trim-the-data-to-just-philadelphia">2. Trim the data to just Philadelphia</a></li>
  <li><a href="#melt-the-data-into-tidy-format" id="toc-melt-the-data-into-tidy-format" class="nav-link" data-scroll-target="#melt-the-data-into-tidy-format">3. Melt the data into tidy format</a></li>
  <li><a href="#split-the-data-for-zip-codes-inoutside-center-city" id="toc-split-the-data-for-zip-codes-inoutside-center-city" class="nav-link" data-scroll-target="#split-the-data-for-zip-codes-inoutside-center-city">4. Split the data for ZIP codes in/outside Center City</a></li>
  <li><a href="#compare-home-value-appreciation-in-philadelpia" id="toc-compare-home-value-appreciation-in-philadelpia" class="nav-link" data-scroll-target="#compare-home-value-appreciation-in-philadelpia">5. Compare home value appreciation in Philadelpia</a></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/annannzhang/Python-Projects/blob/main/analysis/assignment-1.ipynb" class="toc-action">View source</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content column-body" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">1 - Philly Donut Effect</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>In this assignment, we will practice our <code>pandas</code> skills and explore the <a href="https://www.gsb.stanford.edu/faculty-research/publications/donut-effect-how-covid-19-shapes-real-estate">“Donut Effect”</a> within Philadelphia. The “Donut Effect” describes the following phenomenon: with more flexible working options and pandemic-driven density fears, people left urban dense cores and opted for more space in city suburbs, driving home and rental prices up in the suburbs relative to city centers.</p>
<p>We will be working with <a href="https://www.zillow.com/research/data/">Zillow data</a> for the Zillow Home Value Index (ZHVI) for Philadelphia ZIP codes. The goal will be to calculate home price appreciation in Philadelphia, comparing those ZIP codes in Center City (the central business district) to those not in Center City.</p>
<section id="load-the-data" class="level2">
<h2 class="anchored" data-anchor-id="load-the-data">1. Load the data</h2>
<p>I’ve already downloaded the relevant data file and put in the <code>data/</code> folder. Let’s load it using <code>pandas</code>.</p>
<p><strong>Note:</strong> Be sure to use a <em>relative</em> file path to make it easier to load your data when grading. See <a href="https://musa-550-fall-2023.github.io/resource/file-paths.html">this guide</a> for more info.</p>
<div class="cell" data-tags="[]" data-execution_count="1">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-tags="[]" data-execution_count="2">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-tags="[]" data-execution_count="3">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>zip_df <span class="op">=</span> pd.read_csv(<span class="st">"data/Zip_zhvi_uc_sfrcondo_tier_0.33_0.67_sm_sa_month.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="trim-the-data-to-just-philadelphia" class="level2">
<h2 class="anchored" data-anchor-id="trim-the-data-to-just-philadelphia">2. Trim the data to just Philadelphia</h2>
<p>Select the subset of the dataframe for Philadelphia, PA.</p>
<div class="cell" data-tags="[]" data-execution_count="4">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># or use isin to trim data</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>state_trim <span class="op">=</span> zip_df[<span class="st">"StateName"</span>].isin([<span class="st">"PA"</span>])</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>state_trim_df<span class="op">=</span> zip_df.loc[state_trim]</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>philly_df <span class="op">=</span> state_trim_df.loc[state_trim_df[<span class="st">"City"</span>] <span class="op">==</span> <span class="st">"Philadelphia"</span>]</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>philly_df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="4">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">RegionID</th>
<th data-quarto-table-cell-role="th">SizeRank</th>
<th data-quarto-table-cell-role="th">RegionName</th>
<th data-quarto-table-cell-role="th">RegionType</th>
<th data-quarto-table-cell-role="th">StateName</th>
<th data-quarto-table-cell-role="th">State</th>
<th data-quarto-table-cell-role="th">City</th>
<th data-quarto-table-cell-role="th">Metro</th>
<th data-quarto-table-cell-role="th">CountyName</th>
<th data-quarto-table-cell-role="th">2000-01-31</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">2021-10-31</th>
<th data-quarto-table-cell-role="th">2021-11-30</th>
<th data-quarto-table-cell-role="th">2021-12-31</th>
<th data-quarto-table-cell-role="th">2022-01-31</th>
<th data-quarto-table-cell-role="th">2022-02-28</th>
<th data-quarto-table-cell-role="th">2022-03-31</th>
<th data-quarto-table-cell-role="th">2022-04-30</th>
<th data-quarto-table-cell-role="th">2022-05-31</th>
<th data-quarto-table-cell-role="th">2022-06-30</th>
<th data-quarto-table-cell-role="th">2022-07-31</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">125</td>
<td>65810</td>
<td>126</td>
<td>19143</td>
<td>Zip</td>
<td>PA</td>
<td>PA</td>
<td>Philadelphia</td>
<td>Philadelphia-Camden-Wilmington</td>
<td>Philadelphia County</td>
<td>60701.0</td>
<td>...</td>
<td>173114.0</td>
<td>172087.0</td>
<td>171445.0</td>
<td>171542.0</td>
<td>171680.0</td>
<td>171878.0</td>
<td>171607.0</td>
<td>171333.0</td>
<td>171771.0</td>
<td>172611.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">247</td>
<td>65779</td>
<td>249</td>
<td>19111</td>
<td>Zip</td>
<td>PA</td>
<td>PA</td>
<td>Philadelphia</td>
<td>Philadelphia-Camden-Wilmington</td>
<td>Philadelphia County</td>
<td>85062.0</td>
<td>...</td>
<td>257911.0</td>
<td>260104.0</td>
<td>262257.0</td>
<td>263715.0</td>
<td>264809.0</td>
<td>265684.0</td>
<td>267222.0</td>
<td>269460.0</td>
<td>272201.0</td>
<td>274446.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">338</td>
<td>65791</td>
<td>340</td>
<td>19124</td>
<td>Zip</td>
<td>PA</td>
<td>PA</td>
<td>Philadelphia</td>
<td>Philadelphia-Camden-Wilmington</td>
<td>Philadelphia County</td>
<td>47155.0</td>
<td>...</td>
<td>156225.0</td>
<td>157780.0</td>
<td>159029.0</td>
<td>159274.0</td>
<td>159886.0</td>
<td>160780.0</td>
<td>161929.0</td>
<td>163625.0</td>
<td>165020.0</td>
<td>166009.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">423</td>
<td>65787</td>
<td>426</td>
<td>19120</td>
<td>Zip</td>
<td>PA</td>
<td>PA</td>
<td>Philadelphia</td>
<td>Philadelphia-Camden-Wilmington</td>
<td>Philadelphia County</td>
<td>59285.0</td>
<td>...</td>
<td>161167.0</td>
<td>161807.0</td>
<td>162634.0</td>
<td>162972.0</td>
<td>163597.0</td>
<td>164008.0</td>
<td>164887.0</td>
<td>165860.0</td>
<td>167321.0</td>
<td>168524.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">509</td>
<td>65772</td>
<td>512</td>
<td>19104</td>
<td>Zip</td>
<td>PA</td>
<td>PA</td>
<td>Philadelphia</td>
<td>Philadelphia-Camden-Wilmington</td>
<td>Philadelphia County</td>
<td>74255.0</td>
<td>...</td>
<td>220270.0</td>
<td>221454.0</td>
<td>222006.0</td>
<td>220760.0</td>
<td>217933.0</td>
<td>216447.0</td>
<td>216424.0</td>
<td>218663.0</td>
<td>220453.0</td>
<td>223443.0</td>
</tr>
</tbody>
</table>

<p>5 rows × 280 columns</p>
</div>
</div>
</div>
</section>
<section id="melt-the-data-into-tidy-format" class="level2">
<h2 class="anchored" data-anchor-id="melt-the-data-into-tidy-format">3. Melt the data into tidy format</h2>
<p>Let’s transform the data from wide to tidy using the <code>pd.melt()</code> function. Create a new column in your data called “ZHVI” that holds the ZHVI values.</p>
<div class="cell" data-tags="[]" data-execution_count="5">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> looks_like_a_date(col):</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""A function that tests if a string starts with '20'"""</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> col.startswith(<span class="st">"20"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-tags="[]" data-execution_count="6">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>philly_tidy <span class="op">=</span> philly_df.melt(</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>    id_vars <span class="op">=</span> [<span class="st">"RegionName"</span>,<span class="st">"RegionID"</span>],</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>    value_vars <span class="op">=</span> <span class="bu">list</span>(<span class="bu">filter</span>(looks_like_a_date, philly_df.columns)),</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>    var_name <span class="op">=</span> <span class="st">"Date"</span>,</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>    value_name <span class="op">=</span> <span class="st">"ZHVI"</span>,</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>    </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-tags="[]" data-execution_count="7">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>philly_tidy</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="7">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">RegionName</th>
<th data-quarto-table-cell-role="th">RegionID</th>
<th data-quarto-table-cell-role="th">Date</th>
<th data-quarto-table-cell-role="th">ZHVI</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>19143</td>
<td>65810</td>
<td>2000-01-31</td>
<td>60701.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>19111</td>
<td>65779</td>
<td>2000-01-31</td>
<td>85062.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>19124</td>
<td>65791</td>
<td>2000-01-31</td>
<td>47155.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>19120</td>
<td>65787</td>
<td>2000-01-31</td>
<td>59285.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>19104</td>
<td>65772</td>
<td>2000-01-31</td>
<td>74255.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">12461</td>
<td>19153</td>
<td>65820</td>
<td>2022-07-31</td>
<td>247560.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">12462</td>
<td>19118</td>
<td>65785</td>
<td>2022-07-31</td>
<td>746009.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">12463</td>
<td>19102</td>
<td>65770</td>
<td>2022-07-31</td>
<td>347614.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">12464</td>
<td>19127</td>
<td>65794</td>
<td>2022-07-31</td>
<td>318732.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">12465</td>
<td>19137</td>
<td>65804</td>
<td>2022-07-31</td>
<td>222107.0</td>
</tr>
</tbody>
</table>

<p>12466 rows × 4 columns</p>
</div>
</div>
</div>
</section>
<section id="split-the-data-for-zip-codes-inoutside-center-city" class="level2">
<h2 class="anchored" data-anchor-id="split-the-data-for-zip-codes-inoutside-center-city">4. Split the data for ZIP codes in/outside Center City</h2>
<p>To compare home appreciation in Center City vs.&nbsp;outside Center City, we’ll need to split the data into two dataframes, one that holds the Center City ZIP codes and one that holds the data for the rest of the ZIP codes in Philadelphia.</p>
<p>To help with this process, I’ve included a list of ZIP codes that make up the “greater Center City” region of Philadelphia. Use this list to split the melted data into two dataframes.</p>
<div class="cell" data-tags="[]" data-execution_count="8">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>greater_center_city_zip_codes <span class="op">=</span> [</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>    <span class="dv">19123</span>,</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>    <span class="dv">19102</span>,</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    <span class="dv">19103</span>,</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>    <span class="dv">19106</span>,</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>    <span class="dv">19107</span>,</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>    <span class="dv">19109</span>,</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>    <span class="dv">19130</span>,</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>    <span class="dv">19146</span>,</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>    <span class="dv">19147</span>,</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-tags="[]" data-execution_count="9">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># CENTER CITY</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>center_city_zip <span class="op">=</span> philly_tidy[<span class="st">"RegionName"</span>].isin(greater_center_city_zip_codes)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>center_city_zip</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>center_city <span class="op">=</span> philly_tidy.loc[center_city_zip].copy()</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>center_city</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="9">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">RegionName</th>
<th data-quarto-table-cell-role="th">RegionID</th>
<th data-quarto-table-cell-role="th">Date</th>
<th data-quarto-table-cell-role="th">ZHVI</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">9</td>
<td>19146</td>
<td>65813</td>
<td>2000-01-31</td>
<td>97460.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">12</td>
<td>19147</td>
<td>65814</td>
<td>2000-01-31</td>
<td>119919.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">14</td>
<td>19103</td>
<td>65771</td>
<td>2000-01-31</td>
<td>183436.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">18</td>
<td>19130</td>
<td>65797</td>
<td>2000-01-31</td>
<td>128477.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">33</td>
<td>19107</td>
<td>65775</td>
<td>2000-01-31</td>
<td>128049.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">12438</td>
<td>19130</td>
<td>65797</td>
<td>2022-07-31</td>
<td>431501.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">12453</td>
<td>19107</td>
<td>65775</td>
<td>2022-07-31</td>
<td>330958.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">12457</td>
<td>19123</td>
<td>65790</td>
<td>2022-07-31</td>
<td>443152.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">12458</td>
<td>19106</td>
<td>65774</td>
<td>2022-07-31</td>
<td>407423.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">12463</td>
<td>19102</td>
<td>65770</td>
<td>2022-07-31</td>
<td>347614.0</td>
</tr>
</tbody>
</table>

<p>2168 rows × 4 columns</p>
</div>
</div>
</div>
<div class="cell" data-tags="[]" data-execution_count="10">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Out_of_Center_City</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>out_of_center_city_zip <span class="op">=</span> <span class="op">~</span>philly_tidy[<span class="st">"RegionName"</span>].isin(greater_center_city_zip_codes)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>out_of_center_city_zip</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>out_of_center_city <span class="op">=</span> philly_tidy.loc[out_of_center_city_zip].copy()</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>out_of_center_city</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="10">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">RegionName</th>
<th data-quarto-table-cell-role="th">RegionID</th>
<th data-quarto-table-cell-role="th">Date</th>
<th data-quarto-table-cell-role="th">ZHVI</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>19143</td>
<td>65810</td>
<td>2000-01-31</td>
<td>60701.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>19111</td>
<td>65779</td>
<td>2000-01-31</td>
<td>85062.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>19124</td>
<td>65791</td>
<td>2000-01-31</td>
<td>47155.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>19120</td>
<td>65787</td>
<td>2000-01-31</td>
<td>59285.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>19104</td>
<td>65772</td>
<td>2000-01-31</td>
<td>74255.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">12460</td>
<td>19129</td>
<td>65796</td>
<td>2022-07-31</td>
<td>302177.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">12461</td>
<td>19153</td>
<td>65820</td>
<td>2022-07-31</td>
<td>247560.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">12462</td>
<td>19118</td>
<td>65785</td>
<td>2022-07-31</td>
<td>746009.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">12464</td>
<td>19127</td>
<td>65794</td>
<td>2022-07-31</td>
<td>318732.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">12465</td>
<td>19137</td>
<td>65804</td>
<td>2022-07-31</td>
<td>222107.0</td>
</tr>
</tbody>
</table>

<p>10298 rows × 4 columns</p>
</div>
</div>
</div>
</section>
<section id="compare-home-value-appreciation-in-philadelpia" class="level2">
<h2 class="anchored" data-anchor-id="compare-home-value-appreciation-in-philadelpia">5. Compare home value appreciation in Philadelpia</h2>
<p>In this step, we’ll calculate the average percent increase in ZHVI from March 2020 to March 2022 for ZIP codes in/out of Center City. We’ll do this by:</p>
<ul>
<li>Writing a function (see the template below) that will calculate the percent increase in ZHVI from March 31, 2020 to March 31, 2022</li>
<li>Group your data and apply this function to calculate the ZHVI percent change for each ZIP code in Philadelphia. Do this for both of your dataframes from the previous step.</li>
<li>Calculate the average value across ZIP codes for both sets of ZIP codes and then compare</li>
</ul>
<p>You should see much larger growth for ZIP codes outside of Center City…the Donut Effect!</p>
<div class="cell" data-tags="[]" data-execution_count="11">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> calculate_percent_increase(group_df):</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>    march_20sel <span class="op">=</span> group_df[<span class="st">"Date"</span>] <span class="op">==</span> <span class="st">"2020-03-31"</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>    march_22sel <span class="op">=</span> group_df[<span class="st">"Date"</span>] <span class="op">==</span> <span class="st">"2022-03-31"</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>    march_20 <span class="op">=</span> group_df.loc[march_20sel].squeeze()</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>    march_22 <span class="op">=</span> group_df.loc[march_22sel].squeeze()</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>    columns <span class="op">=</span> [<span class="st">"ZHVI"</span>]</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> (march_22[columns] <span class="op">/</span> march_20[columns] <span class="op">-</span> <span class="dv">1</span>) <span class="op">*</span> <span class="dv">100</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-tags="[]" data-execution_count="12">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Center City Grouped</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>grouped_center_city <span class="op">=</span> center_city.groupby(<span class="st">"RegionName"</span>)</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>result_center_city <span class="op">=</span> grouped_center_city.<span class="bu">apply</span>(calculate_percent_increase)</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>result_center_city</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="12">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">ZHVI</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">RegionName</th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">19102</td>
<td>-1.716711</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">19103</td>
<td>-1.696176</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">19106</td>
<td>2.520802</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">19107</td>
<td>2.883181</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">19123</td>
<td>5.212747</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">19130</td>
<td>6.673031</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">19146</td>
<td>6.480788</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">19147</td>
<td>6.139806</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell" data-tags="[]" data-execution_count="13">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Outside Center City Grouped</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>grouped_outside <span class="op">=</span> out_of_center_city.groupby(<span class="st">"RegionName"</span>)</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>result_outside <span class="op">=</span> grouped_outside.<span class="bu">apply</span>(calculate_percent_increase)</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>result_outside</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="13">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">ZHVI</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">RegionName</th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">19104</td>
<td>14.539797</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">19111</td>
<td>28.690446</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">19114</td>
<td>21.074312</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">19115</td>
<td>22.455454</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">19116</td>
<td>23.079842</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">19118</td>
<td>17.585001</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">19119</td>
<td>17.478667</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">19120</td>
<td>26.927423</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">19121</td>
<td>26.228643</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">19122</td>
<td>10.275804</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">19124</td>
<td>28.743474</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">19125</td>
<td>11.007135</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">19126</td>
<td>20.819254</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">19127</td>
<td>20.023926</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">19128</td>
<td>21.887555</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">19129</td>
<td>15.598565</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">19131</td>
<td>23.363129</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">19132</td>
<td>72.218386</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">19133</td>
<td>36.143992</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">19134</td>
<td>23.936841</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">19135</td>
<td>28.115259</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">19136</td>
<td>26.487833</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">19137</td>
<td>23.248505</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">19138</td>
<td>24.662626</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">19139</td>
<td>37.008969</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">19140</td>
<td>57.150847</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">19141</td>
<td>26.441684</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">19142</td>
<td>44.564396</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">19143</td>
<td>23.951077</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">19144</td>
<td>21.094020</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">19145</td>
<td>7.634693</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">19148</td>
<td>6.963237</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">19149</td>
<td>24.916458</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">19150</td>
<td>18.735248</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">19151</td>
<td>19.651429</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">19152</td>
<td>21.993528</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">19153</td>
<td>38.240461</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">19154</td>
<td>17.930932</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell" data-tags="[]" data-execution_count="14">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Center City Growth</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>result_cc_mean <span class="op">=</span> result_center_city.mean().squeeze()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-tags="[]" data-execution_count="15">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Outside of Center City Growth</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>result_ot_mean <span class="op">=</span> result_outside.mean().squeeze()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-tags="[]" data-execution_count="16">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>HV_growth <span class="op">=</span> pd.Series([result_cc_mean,result_ot_mean])</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>Location <span class="op">=</span> pd.Series([<span class="st">"Center City"</span>, <span class="st">"Outside Center City"</span>])</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>final_result_df <span class="op">=</span> pd.DataFrame({<span class="st">"Location"</span>: Location, <span class="st">"Home Value growth (%)"</span>: HV_growth})</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>final_result_df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="16">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Location</th>
<th data-quarto-table-cell-role="th">Home Value growth (%)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Center City</td>
<td>3.312183</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Outside Center City</td>
<td>25.022864</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Donut Effect it is!</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">© CC-Ann Zhang, 2023</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">This page is built with ❤️ and <a href="https://quarto.org/">Quarto</a>.</div>
  </div>
</footer>



</body></html>